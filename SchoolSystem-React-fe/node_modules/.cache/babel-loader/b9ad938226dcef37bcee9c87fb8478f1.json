{"ast":null,"code":"var _jsxFileName = \"/Users/mohamedmaqil/Desktop/SchoolSystem/SchoolSystem-React-fe/src/components/ShipmentsRowDetailsTab/ShipmentsRowDetailsTab.tsx\",\n    _s = $RefreshSig$();\n\nimport { useTranslation } from \"react-i18next\";\nimport { useTracking } from \"../../providers/TrackingProvider\";\nimport { DetailsList } from \"./ShipmentsRowDetailsTab.style\";\nimport Moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ShipmentsRowDetailsTab(_ref) {\n  _s();\n\n  let {\n    airwayBill\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const trackingContext = useTracking();\n  const trackingDetails = trackingContext.trackingData.get(airwayBill)[\"Content\"][0];\n\n  function convertWeight(weight) {\n    let purpose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"display\";\n    const weightInPounds = Math.ceil(weight * 2.20462 * 100) / 100;\n    let unitLb = \"\";\n\n    if (purpose === \"readout\") {\n      unitLb = weightInPounds > 2 ? t(\"tracking-results.shipping-details.text.abbrev-lbs\") : t(\"tracking-results.shipping-details.text.abbrev-lb\");\n      return `${weight} ${t(\"tracking-results.shipping-details.text.abbrev-kg\")} (${weightInPounds.toString()} ${unitLb})`;\n    } else {\n      unitLb = weightInPounds > 2 ? \"LBS\" : \"LB\";\n      return `${weight} KG (${weightInPounds.toString()} ${unitLb})`;\n    }\n  }\n\n  function convertWeighToKGS(weight) {\n    let purpose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"display\";\n    const weightInKilograms = Math.ceil(weight / 2.20462 * 100) / 100;\n    let unitLb = \"\";\n\n    if (purpose === \"readout\") {\n      unitLb = weightInKilograms > 2 ? t(\"tracking-results.shipping-details.text.abbrev-kgs\") : t(\"tracking-results.shipping-details.text.abbrev-kg\");\n      return `${weight} ${t(\"tracking-results.shipping-details.text.abbrev-lb\")} (${weightInKilograms.toString()} ${unitLb})`;\n    } else {\n      unitLb = weightInKilograms > 1 ? \"KGS\" : \"KG\";\n      return `${weight} LBS (${weightInKilograms.toString()} ${unitLb})`;\n    }\n  }\n\n  function expectedDeliveryDate() {\n    let dateToUse = trackingDetails.Events[trackingDetails.Events.length - 1].TimeTable.TimeStamp;\n    return t(\"tracking-results.delivery-date.text.expected-delivery-date-value\", {\n      day: Moment(dateToUse).format(\"D\"),\n      month: Moment(dateToUse).format(\"MMMM\"),\n      year: Moment(dateToUse).format(\"YYYY\")\n    });\n  }\n\n  const reachedDestinationCodes = [\"DLD\", \"DDL\", \"RTS\", \"ADL\", \"ATD\", \"DPU\"];\n\n  const asReachedDestination = shipmentEvent => {\n    let asReachedDestinationFlag = false;\n\n    for (const reachedDestinationCode of reachedDestinationCodes) {\n      if (reachedDestinationCode === shipmentEvent) {\n        asReachedDestinationFlag = true;\n      }\n    }\n\n    return asReachedDestinationFlag;\n  };\n\n  const isLate = Moment(trackingDetails.Events[trackingDetails.Events.length - 1].TimeTable.TimeStamp).isBefore() && !asReachedDestination(trackingDetails.Events[trackingDetails.Events.length - 1].Type.Code) ? true : false;\n  return /*#__PURE__*/_jsxDEV(DetailsList, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shipment-details-title\",\n      children: t(\"tracking-results.shipping-details.header.info\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shipment-details-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon-plane-hollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-label\",\n          children: t(\"tracking-results.shipping-details.label.origin\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-data\",\n          children: trackingDetails.participants[0].city.charAt(0).toUpperCase() + trackingDetails.participants[0].city.slice(1).toLowerCase() + \", \" + trackingDetails.participants[0].state\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shipment-details-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon-location-hollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-label\",\n          children: t(\"tracking-results.shipping-details.label.destination\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-data\",\n          children: trackingDetails.participants[1].city.charAt(0).toUpperCase() + trackingDetails.participants[1].city.slice(1).toLowerCase() + \", \" + trackingDetails.participants[1].state\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shipment-details-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon-box-hollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-label\",\n          children: t(\"tracking-results.shipping-details.text.weight\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), trackingDetails.Counts[0].Unit === \"LBR\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-data\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"weight info\",\n            \"aria-label\": convertWeighToKGS(trackingDetails.Counts[0].Weight, \"readout\"),\n            children: convertWeighToKGS(trackingDetails.Counts[0].Weight)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-data\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"weight info\",\n            \"aria-label\": convertWeight(trackingDetails.Counts[0].Weight, \"readout\"),\n            children: convertWeight(trackingDetails.Counts[0].Weight)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shipment-details-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon-schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-details-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shipment-details-label\",\n          children: t(\"tracking-results.shipping-details.text.schedule\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `shipment-details-data ${isLate ? \"is-late\" : \"\"}`,\n          children: [expectedDeliveryDate(), \" \", isLate ? \"- \" + t(\"shipments-dashboard.row.header.estimatedDeliveryDateLate\") : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-details-item\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        target: \"_blank\",\n        to: `/contact/${trackingDetails.AirWaybillReference}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", t(\"tracking-results.shipping-details.header.report-case\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shipment-action-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon-external-link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShipmentsRowDetailsTab, \"QMCInoZ+wgb86BtH+7XSnNFwECg=\", false, function () {\n  return [useTranslation, useTracking];\n});\n\n_c = ShipmentsRowDetailsTab;\nexport default ShipmentsRowDetailsTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShipmentsRowDetailsTab\");","map":{"version":3,"sources":["/Users/mohamedmaqil/Desktop/SchoolSystem/SchoolSystem-React-fe/src/components/ShipmentsRowDetailsTab/ShipmentsRowDetailsTab.tsx"],"names":["useTranslation","useTracking","DetailsList","Moment","Link","ShipmentsRowDetailsTab","airwayBill","t","trackingContext","trackingDetails","trackingData","get","convertWeight","weight","purpose","weightInPounds","Math","ceil","unitLb","toString","convertWeighToKGS","weightInKilograms","expectedDeliveryDate","dateToUse","Events","length","TimeTable","TimeStamp","day","format","month","year","reachedDestinationCodes","asReachedDestination","shipmentEvent","asReachedDestinationFlag","reachedDestinationCode","isLate","isBefore","Type","Code","participants","city","charAt","toUpperCase","slice","toLowerCase","state","Counts","Unit","Weight","AirWaybillReference"],"mappings":"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","sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport { useTracking } from \"../../providers/TrackingProvider\";\nimport { DetailsList } from \"./ShipmentsRowDetailsTab.style\";\nimport Moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\nfunction ShipmentsRowDetailsTab({ airwayBill }) {\n  const { t } = useTranslation();\n  const trackingContext = useTracking();\n  const trackingDetails = trackingContext.trackingData.get(airwayBill)[\n    \"Content\"\n  ][0] as any;\n\n  function convertWeight(weight: number, purpose = \"display\") {\n    const weightInPounds = Math.ceil(weight * 2.20462 * 100) / 100;\n    let unitLb = \"\";\n    if (purpose === \"readout\") {\n      unitLb =\n        weightInPounds > 2\n          ? t(\"tracking-results.shipping-details.text.abbrev-lbs\")\n          : t(\"tracking-results.shipping-details.text.abbrev-lb\");\n      return `${weight} ${t(\n        \"tracking-results.shipping-details.text.abbrev-kg\"\n      )} (${weightInPounds.toString()} ${unitLb})`;\n    } else {\n      unitLb = weightInPounds > 2 ? \"LBS\" : \"LB\";\n      return `${weight} KG (${weightInPounds.toString()} ${unitLb})`;\n    }\n  }\n\n  function convertWeighToKGS(weight: number, purpose = \"display\") {\n    const weightInKilograms = Math.ceil((weight / 2.20462) * 100) / 100;\n    let unitLb = \"\";\n    if (purpose === \"readout\") {\n      unitLb =\n        weightInKilograms > 2\n          ? t(\"tracking-results.shipping-details.text.abbrev-kgs\")\n          : t(\"tracking-results.shipping-details.text.abbrev-kg\");\n      return `${weight} ${t(\n        \"tracking-results.shipping-details.text.abbrev-lb\"\n      )} (${weightInKilograms.toString()} ${unitLb})`;\n    } else {\n      unitLb = weightInKilograms > 1 ? \"KGS\" : \"KG\";\n      return `${weight} LBS (${weightInKilograms.toString()} ${unitLb})`;\n    }\n  }\n\n  function expectedDeliveryDate() {\n    let dateToUse =\n      trackingDetails.Events[trackingDetails.Events.length - 1].TimeTable\n        .TimeStamp;\n    return t(\n      \"tracking-results.delivery-date.text.expected-delivery-date-value\",\n      {\n        day: Moment(dateToUse).format(\"D\"),\n        month: Moment(dateToUse).format(\"MMMM\"),\n        year: Moment(dateToUse).format(\"YYYY\")\n      }\n    );\n  }\n\n  const reachedDestinationCodes = [\"DLD\", \"DDL\", \"RTS\", \"ADL\", \"ATD\", \"DPU\"];\n  const asReachedDestination = shipmentEvent => {\n    let asReachedDestinationFlag = false;\n    for (const reachedDestinationCode of reachedDestinationCodes) {\n      if (reachedDestinationCode === shipmentEvent) {\n        asReachedDestinationFlag = true;\n      }\n    }\n    return asReachedDestinationFlag;\n  };\n  const isLate =\n    Moment(\n      trackingDetails.Events[trackingDetails.Events.length - 1].TimeTable\n        .TimeStamp\n    ).isBefore() &&\n    !asReachedDestination(\n      trackingDetails.Events[trackingDetails.Events.length - 1].Type.Code\n    )\n      ? true\n      : false;\n\n  return (\n    <DetailsList>\n      <div className=\"shipment-details-title\">\n        {t(\"tracking-results.shipping-details.header.info\")}\n      </div>\n      <div className=\"shipment-details-item\">\n        <div className=\"shipment-details-icon\">\n          <i className=\"icon-plane-hollow\"></i>\n        </div>\n        <div className=\"shipment-details-info\">\n          <div className=\"shipment-details-label\">\n            {t(\"tracking-results.shipping-details.label.origin\")}\n          </div>\n          <div className=\"shipment-details-data\">\n            {trackingDetails.participants[0].city.charAt(0).toUpperCase() +\n              trackingDetails.participants[0].city.slice(1).toLowerCase() +\n              \", \" +\n              trackingDetails.participants[0].state}\n          </div>\n        </div>\n      </div>\n      <div className=\"shipment-details-item\">\n        <div className=\"shipment-details-icon\">\n          <i className=\"icon-location-hollow\"></i>\n        </div>\n        <div className=\"shipment-details-info\">\n          <div className=\"shipment-details-label\">\n            {t(\"tracking-results.shipping-details.label.destination\")}\n          </div>\n          <div className=\"shipment-details-data\">\n            {trackingDetails.participants[1].city.charAt(0).toUpperCase() +\n              trackingDetails.participants[1].city.slice(1).toLowerCase() +\n              \", \" +\n              trackingDetails.participants[1].state}\n          </div>\n        </div>\n      </div>\n      <div className=\"shipment-details-item\">\n        <div className=\"shipment-details-icon\">\n          <i className=\"icon-box-hollow\"></i>\n        </div>\n        <div className=\"shipment-details-info\">\n          <div className=\"shipment-details-label\">\n            {t(\"tracking-results.shipping-details.text.weight\")}\n          </div>\n          {/* display the weigt here! */}\n          {trackingDetails.Counts[0].Unit === \"LBR\" ? (\n            <div className=\"shipment-details-data\">\n              {/* convertToKGS */}\n              <span\n                className=\"weight info\"\n                aria-label={convertWeighToKGS(\n                  trackingDetails.Counts[0].Weight,\n                  \"readout\"\n                )}\n              >\n                {convertWeighToKGS(trackingDetails.Counts[0].Weight)}\n              </span>\n            </div>\n          ) : (\n            <div className=\"shipment-details-data\">\n              {/* convertToLBS */}\n              <span\n                className=\"weight info\"\n                aria-label={convertWeight(\n                  trackingDetails.Counts[0].Weight,\n                  \"readout\"\n                )}\n              >\n                {convertWeight(trackingDetails.Counts[0].Weight)}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"shipment-details-item\">\n        <div className=\"shipment-details-icon\">\n          <i className=\"icon-schedule\"></i>\n        </div>\n        <div className=\"shipment-details-info\">\n          <div className=\"shipment-details-label\">\n            {t(\"tracking-results.shipping-details.text.schedule\")}\n          </div>\n          <div className={`shipment-details-data ${isLate ? \"is-late\" : \"\"}`}>\n            {expectedDeliveryDate()}{\" \"}\n            {isLate\n              ? \"- \" +\n                t(\"shipments-dashboard.row.header.estimatedDeliveryDateLate\")\n              : \"\"}\n          </div>\n        </div>\n      </div>\n      <div className=\"action-details-item\">\n        <Link\n          target=\"_blank\"\n          to={`/contact/${trackingDetails.AirWaybillReference}`}\n        >\n          <span>\n            {\" \"}\n            {t(\"tracking-results.shipping-details.header.report-case\")}\n          </span>{\" \"}\n        </Link>\n        <div className=\"shipment-action-icon\">\n          <i className=\"icon-external-link\"></i>\n        </div>\n      </div>\n    </DetailsList>\n  );\n}\n\nexport default ShipmentsRowDetailsTab;\n"]},"metadata":{},"sourceType":"module"}